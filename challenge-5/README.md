# Advent of Code 2025 - Day 5: Cafeteria

## Problem

The Elves' kitchen has a complicated inventory management system with fresh ingredient ID ranges. They need help determining which ingredients are fresh.

**Part 1:** Given a list of fresh ID ranges and available ingredient IDs, count how many available IDs fall within any fresh range.

**Part 2:** Calculate the total count of unique fresh IDs across all ranges (handling overlaps).

## Example

```
3-5
10-14
16-20
12-18

1
5
8
11
17
32
```

- Part 1: 3 available IDs are fresh (5, 11, 17)
- Part 2: 14 unique fresh IDs (ranges 10-14, 16-20, and 12-18 overlap into 10-20)

## Solution Approach

### Part 1
Use a `BTreeMap<start, end>` to store merged ranges. For each ID, binary search to find the range with the largest start ≤ ID, then check if ID ≤ end.

### Part 2
Merge overlapping/adjacent ranges during insertion. Sum `(end - start + 1)` for all merged ranges.

```rust
struct RangeSet {
    ranges: BTreeMap<u64, u64>,
}

impl RangeSet {
    fn contains(&self, value: u64) -> bool {
        self.ranges.range(..=value).next_back()
            .is_some_and(|(&start, &end)| start <= value && value <= end)
    }

    fn total_len(&self) -> u64 {
        self.ranges.iter().map(|(start, end)| end - start + 1).sum()
    }
}
```

### Range Merging
When inserting a new range, merge with:
1. The range ending just before or overlapping our start
2. Any ranges fully contained within our range
3. The range starting just after or overlapping our end

## Running

```bash
cargo run
```

Input file should be placed at `.fixtures/input.txt`.

## Complexity

- **Insert:** O(log n) amortized
- **Contains:** O(log n)
- **Total length:** O(n)

---

*Disclaimer: The solution code was written manually. This README was generated by AI*
